/***详情页公共js***/
$(function(){
	//选项卡点击
	$(".type-tab li").click(function(){
		var num=$(this).index();
		$(".type-tab li").removeClass("sel-tabtype");
		$(this).addClass("sel-tabtype");
		$(".windiv").hide().eq(num).show();
	});
	//编号查询选择类型事件
	$(".selNum").click(function(){
		if($(this).is(':checked')){
			if($(this).val()==1){//选择订单编号查询
				$(".num-text").attr("name","province");
				$(".selNum").eq(1).attr("checked",false);
			}else{//选择差错编号查询
				$(".num-text").attr("name","city");
				$(".selNum").eq(0).attr("checked",false);
			}
			$(".queryFlag").val($(this).val());
		}else{//选择其他条件查询
			$(".queryFlag").val(3);
			$(".num-text").val("");//清空文本域
		}
	});
	//查询数据按钮
	$(".sel-btn").click(function(){
		$(".windiv").hide().eq(0).show();
		$(".this-page").val(1);
		getGridView();
	});
	//新增数据按钮
	$(".add-btn").click(function(){
		$(".info-form input").add(".info-form textarea").add(".info-form select").attr("disabled",false);//取消表单不可编辑状态	
        $(".info-form")[0].reset();//清空详情页面表单
        $(".type-tab li").eq(1).click();//显示详情页面
        $(".btn-div input[type='button']").attr("disabled",true).addClass("gbtn");//所有按钮不可操作
        $(".add-btn").add(".sub-btn").add(".sel-btn").attr("disabled",false).removeClass("gbtn");//添加、提交按钮可操作
	});
	//编辑数据按钮
	$(".update-btn").click(function(){
		$(".info-form input").add(".info-form textarea").add(".info-form select").attr("disabled",false);//取消表单不可编辑状态
		$(".btn-div input[type='button']").attr("disabled",true).addClass("gbtn");//所有按钮不可操作
		$(".add-btn").add(".del-btn").add(".sub-btn").attr("disabled",false).removeClass("gbtn");//添加、删除、提交按钮可操作
		});
	//分页事件
	$(".page a").click(function(){
		switch($(this).index()){
			case 0://首页
				$(".this-page").val(1);
				getGridView();
				break;
			case 1://上一页
				if(parseInt($(".this-page").val())>1){//是否是第一页
					$(".this-page").val(parseInt($(".this-page").val())-1);
					getGridView();
				}
				break;
			case 3://下一页
				if(parseInt($(".this-page").val())<parseInt($(".all-page").val())){//是否是最一页
					$(".this-page").val(parseInt($(".this-page").val())+1);
					getGridView();
				}
				break;
			case 4://尾页
				$(".this-page").val($(".all-page").val());
				getGridView();
				break;
			default://错误
				alert("操作错误，请稍后重试");
				break;
		}
	});
});